/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/unlockscreen_screen/unlockScreenViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>

unlockScreenViewBase::unlockScreenViewBase() :
    buttonCallback(this, &unlockScreenViewBase::buttonCallbackHandler)
{

    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 272, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    background.setXY(1, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_PORTRAIT_SLIDE_TO_UNLOCK_BACKGROUND_ID));

    PinPad.setXY(21, 90);

    unlockHelp.setXY(66, 418);
    unlockHelp.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    unlockHelp.setLinespacing(0);
    unlockHelp.setTypedText(touchgfx::TypedText(T_SINGLEUSEID6));

    productName.setXY(79, 65);
    productName.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    productName.setLinespacing(0);
    productName.setTypedText(touchgfx::TypedText(T_SINGLEUSEID3));

    author.setXY(6, 458);
    author.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    author.setLinespacing(0);
    author.setTypedText(touchgfx::TypedText(T_SINGLEUSEID4));

    version.setXY(189, 458);
    version.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    version.setLinespacing(0);
    version.setTypedText(touchgfx::TypedText(T_SINGLEUSEID5));

    submitProgress.setXY(45, 433);
    submitProgress.setProgressIndicatorPosition(0, 0, 184, 20);
    submitProgress.setRange(0, 100);
    submitProgress.setBackground(touchgfx::Bitmap(BITMAP_BLUE_PROGRESSINDICATORS_BG_MEDIUM_PROGRESS_INDICATOR_BG_SQUARE_0_DEGREES_ID));
    submitProgressPainter.setColor(touchgfx::Color::getColorFromRGB(0, 151, 255));
    submitProgress.setPainter(submitProgressPainter);
    submitProgress.setStart(2, 10);
    submitProgress.setEnd(182, 10);
    submitProgress.setLineWidth(16);
    submitProgress.setLineEndingStyle(touchgfx::Line::BUTT_CAP_ENDING);
    submitProgress.setValue(0);

    bitcoinLogo.setXY(19, 7);
    bitcoinLogo.setBitmap(touchgfx::Bitmap(BITMAP_BTC_LOGO_ID));

    deviceSetupBegin.setBackground(touchgfx::BitmapId(BITMAP_PORTRAIT_SLIDE_TO_UNLOCK_BACKGROUND_ID), 0, 0);
    deviceSetupBegin.setShadeColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    deviceSetupBegin.setShadeAlpha(150);
    deviceSetupBegin.hide();

    blackBackgroundSetup.setPosition(0, 0, 272, 480);
    blackBackgroundSetup.setColor(touchgfx::Color::getColorFromRGB(32, 32, 32));
    deviceSetupBegin.add(blackBackgroundSetup);

    beginSetupButton.setXY(51, 398);
    beginSetupButton.setBitmaps(touchgfx::Bitmap(BITMAP_DARK_BUTTONS_ROUND_EDGE_SMALL_ID), touchgfx::Bitmap(BITMAP_DARK_BUTTONS_ROUND_EDGE_SMALL_PRESSED_ID));
    beginSetupButton.setLabelText(touchgfx::TypedText(T_SINGLEUSEID369));
    beginSetupButton.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    beginSetupButton.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    beginSetupButton.setAction(buttonCallback);
    deviceSetupBegin.add(beginSetupButton);

    weclomeToSetupText.setXY(24, 11);
    weclomeToSetupText.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    weclomeToSetupText.setLinespacing(0);
    weclomeToSetupText.setTypedText(touchgfx::TypedText(T_SINGLEUSEID198));
    deviceSetupBegin.add(weclomeToSetupText);

    setupSteps.setXY(16, 285);
    setupSteps.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    setupSteps.setLinespacing(0);
    setupSteps.setTypedText(touchgfx::TypedText(T_SINGLEUSEID199));
    deviceSetupBegin.add(setupSteps);

    firstPowerUpDisplay.setBackground(touchgfx::BitmapId(BITMAP_PORTRAIT_SLIDE_TO_UNLOCK_BACKGROUND_ID), 0, 0);
    firstPowerUpDisplay.setShadeColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    firstPowerUpDisplay.setShadeAlpha(150);
    firstPowerUpDisplay.hide();

    blackBackground.setPosition(0, 0, 272, 480);
    blackBackground.setColor(touchgfx::Color::getColorFromRGB(32, 32, 32));
    firstPowerUpDisplay.add(blackBackground);

    notice_power_on_first_time_1.setXY(13, 17);
    notice_power_on_first_time_1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    notice_power_on_first_time_1.setLinespacing(0);
    notice_power_on_first_time_1.setTypedText(touchgfx::TypedText(T_SINGLEUSEID145));
    firstPowerUpDisplay.add(notice_power_on_first_time_1);

    FirstUseContinue.setXY(51, 394);
    FirstUseContinue.setBitmaps(touchgfx::Bitmap(BITMAP_DARK_BUTTONS_ROUND_EDGE_SMALL_ID), touchgfx::Bitmap(BITMAP_DARK_BUTTONS_ROUND_EDGE_SMALL_PRESSED_ID));
    FirstUseContinue.setLabelText(touchgfx::TypedText(T_SINGLEUSEID47));
    FirstUseContinue.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    FirstUseContinue.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    FirstUseContinue.setAction(buttonCallback);
    firstPowerUpDisplay.add(FirstUseContinue);

    notice_power_on_first_time.setXY(26, 77);
    notice_power_on_first_time.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    notice_power_on_first_time.setLinespacing(0);
    notice_power_on_first_time.setTypedText(touchgfx::TypedText(T_SINGLEUSEID46));
    firstPowerUpDisplay.add(notice_power_on_first_time);

    add(__background);
    add(background);
    add(PinPad);
    add(unlockHelp);
    add(productName);
    add(author);
    add(version);
    add(submitProgress);
    add(bitcoinLogo);
    add(deviceSetupBegin);
    add(firstPowerUpDisplay);
}

void unlockScreenViewBase::setupScreen()
{
    PinPad.initialize();
}

void unlockScreenViewBase::changePinNotesText()
{

}

void unlockScreenViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &beginSetupButton)
    {
        //beginSetup
        //When beginSetupButton clicked change screen to PinSetup
        //Go to PinSetup with no screen transition
        application().gotoPinSetupScreenNoTransition();
    }
    else if (&src == &FirstUseContinue)
    {
        //Confirm_First_Use
        //When FirstUseContinue clicked call virtual function
        //Call confirmFirstUse
        confirmFirstUse();
    }
}
